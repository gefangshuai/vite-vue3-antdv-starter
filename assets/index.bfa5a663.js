import{n as D,d as P,E as me,m as U,p as Nt,y as Jn,k as we,X as Ze,av as Ae,a3 as Ve,r as J,I as fe,s as ze,a6 as dn,Q as xn,U as Ee,c as B,O as be,V as an,D as Ge,W as Ye,ak as Kn,P as Re,H as ue,a5 as Xe,A as wt,z as Dt,v as He,aW as et,aj as Pt,q as Ne,aa as Tt,R as on,ab as nt,bc as Mt,w as Lt,at as _t,ao as Ft,F as It,Y as On,al as At,a4 as We,N as Rt,x as Ht,l as tt,ac as jt}from"./index.25ba8339.js";import{R as Bt,v as $t}from"./index.8640a124.js";import{p as Vt}from"./pick.a4ca3649.js";import{d as zt}from"./debounce.f1e0185a.js";function Ln(){var n=function e(t){e.current=t};return n}var un=function(e,t){var a=e.height,r=e.offset,i=e.prefixCls,d=e.onInnerResize,o=t.slots,u,s={},v={display:"flex",flexDirection:"column"};return r!==void 0&&(s={height:"".concat(a,"px"),position:"relative",overflow:"hidden"},v=D(D({},v),{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),P("div",{style:s},[P(Bt,{onResize:function(l){var g=l.offsetHeight;g&&d&&d()}},{default:function(){return[P("div",{style:v,class:me(U({},"".concat(i,"-holder-inner"),i))},[(u=o.default)===null||u===void 0?void 0:u.call(o)])]}})])};un.displayName="Filter";un.inheritAttrs=!1;un.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};var Gt=un,at=function(e,t){var a=e.setRef,r=t.slots,i,d=Nt((i=r.default)===null||i===void 0?void 0:i.call(r));return d&&d.length?Jn(d[0],{ref:a}):d};at.props={setRef:{type:Function,default:function(){}}};var qt=at,Ut=20;function _n(n){return"touches"in n?n.touches[0].pageY:n.pageY}var Wt=we({name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup:function(){return{moveRaf:null,scrollbarRef:Ln(),thumbRef:Ln(),visibleTimeout:null,state:Ze({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler:function(){this.delayHidden()},flush:"post"}},mounted:function(){var e,t;(e=this.scrollbarRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onScrollbarTouchStart,Ae?{passive:!1}:!1),(t=this.thumbRef.current)===null||t===void 0||t.addEventListener("touchstart",this.onMouseDown,Ae?{passive:!1}:!1)},beforeUnmount:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden:function(){var e=this;clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(function(){e.state.visible=!1},2e3)},onScrollbarTouchStart:function(e){e.preventDefault()},onContainerMouseDown:function(e){e.stopPropagation(),e.preventDefault()},patchEvents:function(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,Ae?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,Ae?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,Ae?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,Ae?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp),Ve.cancel(this.moveRaf)},onMouseDown:function(e){var t=this.$props.onStartMove;D(this.state,{dragging:!0,pageY:_n(e),startTop:this.getTop()}),t(),this.patchEvents(),e.stopPropagation(),e.preventDefault()},onMouseMove:function(e){var t=this.state,a=t.dragging,r=t.pageY,i=t.startTop,d=this.$props.onScroll;if(Ve.cancel(this.moveRaf),a){var o=_n(e)-r,u=i+o,s=this.getEnableScrollRange(),v=this.getEnableHeightRange(),f=v?u/v:0,l=Math.ceil(f*s);this.moveRaf=Ve(function(){d(l)})}},onMouseUp:function(){var e=this.$props.onStopMove;this.state.dragging=!1,e(),this.removeEvents()},getSpinHeight:function(){var e=this.$props,t=e.height,a=e.count,r=t/a*10;return r=Math.max(r,Ut),r=Math.min(r,t/2),Math.floor(r)},getEnableScrollRange:function(){var e=this.$props,t=e.scrollHeight,a=e.height;return t-a||0},getEnableHeightRange:function(){var e=this.$props.height,t=this.getSpinHeight();return e-t||0},getTop:function(){var e=this.$props.scrollTop,t=this.getEnableScrollRange(),a=this.getEnableHeightRange();if(e===0||t===0)return 0;var r=e/t;return r*a},showScroll:function(){var e=this.$props,t=e.height,a=e.scrollHeight;return a>t}},render:function(){var e=this.state,t=e.dragging,a=e.visible,r=this.$props.prefixCls,i=this.getSpinHeight()+"px",d=this.getTop()+"px",o=this.showScroll(),u=o&&a;return P("div",{ref:this.scrollbarRef,class:me("".concat(r,"-scrollbar"),U({},"".concat(r,"-scrollbar-show"),o)),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:u?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[P("div",{ref:this.thumbRef,class:me("".concat(r,"-scrollbar-thumb"),U({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:d,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function Yt(n,e,t,a){var r=new Map,i=new Map,d=J(Symbol("update"));fe(n,function(){d.value=Symbol("update")});var o=0;function u(){o+=1;var v=o;Promise.resolve().then(function(){v===o&&r.forEach(function(f,l){if(f&&f.offsetParent){var g=f.offsetHeight;i.get(l)!==g&&(d.value=Symbol("update"),i.set(l,f.offsetHeight))}})})}function s(v,f){var l=e(v),g=r.get(l);f?(r.set(l,f.$el||f),u()):r.delete(l),!g!=!f&&(f?t==null||t(v):a==null||a(v))}return[s,u,i,d]}function Xt(n,e,t,a,r,i,d,o){var u;return function(s){if(s==null){o();return}Ve.cancel(u);var v=e.value,f=a.itemHeight;if(typeof s=="number")d(s);else if(s&&ze(s)==="object"){var l,g=s.align;"index"in s?l=s.index:l=v.findIndex(function(x){return r(x)===s.key});var b=s.offset,h=b===void 0?0:b,c=function x(K,L){if(!(K<0||!n.value)){var M=n.value.clientHeight,$=!1,H=L;if(M){for(var W=L||g,Y=0,j=0,C=0,_=Math.min(v.length,l),N=0;N<=_;N+=1){var T=r(v[N]);j=Y;var X=t.get(T);C=j+(X===void 0?f:X),Y=C,N===l&&X===void 0&&($=!0)}var G=n.value.scrollTop,ae=null;switch(W){case"top":ae=j-h;break;case"bottom":ae=C-M+h;break;default:{var re=G+M;j<G?H="top":C>re&&(H="bottom")}}ae!==null&&ae!==G&&d(ae)}u=Ve(function(){$&&i(),x(K-1,H)})}};c(3)}}}var Qt=(typeof navigator=="undefined"?"undefined":ze(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),Zt=Qt,rt=function(n,e){var t=!1,a=null;function r(){clearTimeout(a),t=!0,a=setTimeout(function(){t=!1},50)}return function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=i<0&&n.value||i>0&&e.value;return d&&o?(clearTimeout(a),t=!1):(!o||t)&&r(),!t&&o}};function Jt(n,e,t,a){var r=0,i=null,d=null,o=!1,u=rt(e,t);function s(f){if(!!n.value){Ve.cancel(i);var l=f.deltaY;r+=l,d=l,!u(l)&&(Zt||f.preventDefault(),i=Ve(function(){var g=o?10:1;a(r*g),r=0}))}}function v(f){!n.value||(o=f.detail===d)}return[s,v]}var ea=14/15;function na(n,e,t){var a=!1,r=0,i=null,d=null,o=function(){i&&(i.removeEventListener("touchmove",u),i.removeEventListener("touchend",s))},u=function(g){if(a){var b=Math.ceil(g.touches[0].pageY),h=r-b;r=b,t(h)&&g.preventDefault(),clearInterval(d),d=setInterval(function(){h*=ea,(!t(h,!0)||Math.abs(h)<=.1)&&clearInterval(d)},16)}},s=function(){a=!1,o()},v=function(g){o(),g.touches.length===1&&!a&&(a=!0,r=Math.ceil(g.touches[0].pageY),i=g.target,i.addEventListener("touchmove",u,{passive:!1}),i.addEventListener("touchend",s))},f=function(){};dn(function(){document.addEventListener("touchmove",f,{passive:!1}),fe(n,function(l){e.value.removeEventListener("touchstart",v),o(),clearInterval(d),l&&e.value.addEventListener("touchstart",v,{passive:!1})},{immediate:!0})}),xn(function(){document.removeEventListener("touchmove",f)})}var ta=globalThis&&globalThis.__rest||function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]]);return t},aa=[],ra={overflowY:"auto",overflowAnchor:"none"};function oa(n,e,t,a,r,i){var d=i.getKey;return n.slice(e,t+1).map(function(o,u){var s=e+u,v=r(o,s,{}),f=d(o);return P(qt,{key:f,setRef:function(g){return a(o,g)}},{default:function(){return[v]}})})}var la=we({name:"List",inheritAttrs:!1,props:{prefixCls:String,data:Ee.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup:function(e,t){var a=t.expose,r=B(function(){var w=e.height,I=e.itemHeight,ee=e.virtual;return!!(ee!==!1&&w&&I)}),i=B(function(){var w=e.height,I=e.itemHeight,ee=e.data;return r.value&&ee&&I*ee.length>w}),d=Ze({scrollTop:0,scrollMoving:!1}),o=B(function(){return e.data||aa}),u=be([]);fe(o,function(){u.value=an(o.value).slice()},{immediate:!0});var s=be(function(w){});fe(function(){return e.itemKey},function(w){typeof w=="function"?s.value=w:s.value=function(I){return I==null?void 0:I[w]}},{immediate:!0});var v=J(),f=J(),l=J(),g=function(I){return s.value(I)},b={getKey:g};function h(w){var I;typeof w=="function"?I=w(d.scrollTop):I=w;var ee=j(I);v.value&&(v.value.scrollTop=ee),d.scrollTop=ee}var c=Yt(u,g,null,null),x=Ge(c,4),K=x[0],L=x[1],M=x[2],$=x[3],H=Ze({scrollHeight:void 0,start:0,end:0,offset:void 0}),W=J(0);dn(function(){Ye(function(){var w;W.value=((w=f.value)===null||w===void 0?void 0:w.offsetHeight)||0})}),Kn(function(){Ye(function(){var w;W.value=((w=f.value)===null||w===void 0?void 0:w.offsetHeight)||0})}),fe([r,u],function(){r.value||D(H,{scrollHeight:void 0,start:0,end:u.value.length-1,offset:void 0})},{immediate:!0}),fe([r,u,W,i],function(){r.value&&!i.value&&D(H,{scrollHeight:W.value,start:0,end:u.value.length-1,offset:void 0})},{immediate:!0}),fe([i,r,function(){return d.scrollTop},u,$,function(){return e.height},W],function(){if(!(!r.value||!i.value)){for(var w=0,I,ee,O,y=u.value.length,m=u.value,R=d.scrollTop,ne=e.itemHeight,de=e.height,le=R+de,ce=0;ce<y;ce+=1){var ge=m[ce],Pe=g(ge),Oe=M.get(Pe);Oe===void 0&&(Oe=ne);var ke=w+Oe;I===void 0&&ke>=R&&(I=ce,ee=w),O===void 0&&ke>le&&(O=ce),w=ke}I===void 0&&(I=0,ee=0),O===void 0&&(O=y-1),O=Math.min(O+1,y),D(H,{scrollHeight:w,start:I,end:O,offset:ee})}},{immediate:!0});var Y=B(function(){return H.scrollHeight-e.height});function j(w){var I=w;return Number.isNaN(Y.value)||(I=Math.min(I,Y.value)),I=Math.max(I,0),I}var C=B(function(){return d.scrollTop<=0}),_=B(function(){return d.scrollTop>=Y.value}),N=rt(C,_);function T(w){var I=w;h(I)}function X(w){var I,ee=w.currentTarget.scrollTop;Math.abs(ee-d.scrollTop)>=1&&h(ee),(I=e.onScroll)===null||I===void 0||I.call(e,w)}var G=Jt(r,C,_,function(w){h(function(I){var ee=I+w;return ee})}),ae=Ge(G,2),re=ae[0],ye=ae[1];na(r,v,function(w,I){return N(w,I)?!1:(re({preventDefault:function(){},deltaY:w}),!0)});function he(w){r.value&&w.preventDefault()}var oe=function(){v.value&&(v.value.removeEventListener("wheel",re,Ae?{passive:!1}:!1),v.value.removeEventListener("DOMMouseScroll",ye),v.value.removeEventListener("MozMousePixelScroll",he))};Re(function(){Ye(function(){v.value&&(oe(),v.value.addEventListener("wheel",re,Ae?{passive:!1}:!1),v.value.addEventListener("DOMMouseScroll",ye),v.value.addEventListener("MozMousePixelScroll",he))})}),xn(function(){oe()});var _e=Xt(v,u,M,e,g,L,h,function(){var w;(w=l.value)===null||w===void 0||w.delayHidden()});a({scrollTo:_e});var De=B(function(){var w=null;return e.height&&(w=D(U({},e.fullHeight?"height":"maxHeight",e.height+"px"),ra),r.value&&(w.overflowY="hidden",d.scrollMoving&&(w.pointerEvents="none"))),w});return fe([function(){return H.start},function(){return H.end},u],function(){if(e.onVisibleChange){var w=u.value.slice(H.start,H.end+1);e.onVisibleChange(w,u.value)}},{flush:"post"}),{state:d,mergedData:u,componentStyle:De,onFallbackScroll:X,onScrollBar:T,componentRef:v,useVirtual:r,calRes:H,collectHeight:L,setInstance:K,sharedConfig:b,scrollBarRef:l,fillerInnerRef:f}},render:function(){var e=this,t=D(D({},this.$props),this.$attrs),a=t.prefixCls,r=a===void 0?"rc-virtual-list":a,i=t.height;t.itemHeight,t.fullHeight,t.data,t.itemKey,t.virtual;var d=t.component,o=d===void 0?"div":d;t.onScroll;var u=t.children,s=u===void 0?this.$slots.default:u,v=t.style,f=t.class,l=ta(t,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),g=me(r,f),b=this.state.scrollTop,h=this.calRes,c=h.scrollHeight,x=h.offset,K=h.start,L=h.end,M=this.componentStyle,$=this.onFallbackScroll,H=this.onScrollBar,W=this.useVirtual,Y=this.collectHeight,j=this.sharedConfig,C=this.setInstance,_=this.mergedData;return P("div",ue({style:D(D({},v),{position:"relative"}),class:g},l),[P(o,{class:"".concat(r,"-holder"),style:M,ref:"componentRef",onScroll:$},{default:function(){return[P(Gt,{prefixCls:r,height:c,offset:x,onInnerResize:Y,ref:"fillerInnerRef"},{default:function(){return oa(_,K,L,C,s,j)}})]}}),W&&P(Wt,{ref:"scrollBarRef",prefixCls:r,scrollTop:b,height:i,scrollHeight:c,count:_.length,onScroll:H,onStartMove:function(){e.state.scrollMoving=!0},onStopMove:function(){e.state.scrollMoving=!1}},null)])}}),ia=la,da={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},ua=da;function Fn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){ca(n,r,t[r])})}return n}function ca(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Sn=function(e,t){var a=Fn({},e,t.attrs);return P(Xe,Fn({},a,{icon:ua}),null)};Sn.displayName="CaretDownFilled";Sn.inheritAttrs=!1;var sa=Sn,va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},fa=va;function In(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){ha(n,r,t[r])})}return n}function ha(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Cn=function(e,t){var a=In({},e,t.attrs);return P(Xe,In({},a,{icon:fa}),null)};Cn.displayName="FileOutlined";Cn.inheritAttrs=!1;var ot=Cn,ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},ga=ya;function An(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){pa(n,r,t[r])})}return n}function pa(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var En=function(e,t){var a=An({},e,t.attrs);return P(Xe,An({},a,{icon:ga}),null)};En.displayName="FolderOpenOutlined";En.inheritAttrs=!1;var ba=En,ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},ka=ma;function Rn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){xa(n,r,t[r])})}return n}function xa(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Nn=function(e,t){var a=Rn({},e,t.attrs);return P(Xe,Rn({},a,{icon:ka}),null)};Nn.displayName="FolderOutlined";Nn.inheritAttrs=!1;var Ka=Nn,Oa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Sa=Oa;function Hn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){Ca(n,r,t[r])})}return n}function Ca(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var wn=function(e,t){var a=Hn({},e,t.attrs);return P(Xe,Hn({},a,{icon:Sa}),null)};wn.displayName="MinusSquareOutlined";wn.inheritAttrs=!1;var Ea=wn,Na={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},wa=Na;function jn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){Da(n,r,t[r])})}return n}function Da(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Dn=function(e,t){var a=jn({},e,t.attrs);return P(Xe,jn({},a,{icon:wa}),null)};Dn.displayName="PlusSquareOutlined";Dn.inheritAttrs=!1;var Pa=Dn,lt=Symbol("TreeContextKey"),Ta=we({name:"TreeContext",props:{value:{type:Object}},setup:function(e,t){var a=t.slots;return wt(lt,B(function(){return e.value})),function(){var r;return(r=a.default)===null||r===void 0?void 0:r.call(a)}}}),it=function(){return Dt(lt,B(function(){return{}}))},Ma=function(e){for(var t=e.prefixCls,a=e.level,r=e.isStart,i=e.isEnd,d="".concat(t,"-indent-unit"),o=[],u=0;u<a;u+=1){var s;o.push(P("span",{key:u,class:(s={},U(s,d,!0),U(s,"".concat(d,"-start"),r[u]),U(s,"".concat(d,"-end"),i[u]),s)},null))}return P("span",{"aria-hidden":"true",class:"".concat(t,"-indent")},[o])},La=Ma,Pn={eventKey:[String,Number],prefixCls:String,expanded:{type:Boolean,default:void 0},selected:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},loaded:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},halfChecked:{type:Boolean,default:void 0},title:Ee.any,dragOver:{type:Boolean,default:void 0},dragOverGapTop:{type:Boolean,default:void 0},dragOverGapBottom:{type:Boolean,default:void 0},pos:String,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Ee.any,switcherIcon:Ee.any,domRef:{type:Function}},_a={prefixCls:{type:String},data:{type:Array},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},expandedKeys:{type:Array},selectedKeys:{type:Array},checkedKeys:{type:Array},loadedKeys:{type:Array},loadingKeys:{type:Array},halfCheckedKeys:{type:Array},keyEntities:{type:Object},dragging:{type:Boolean},dragOverNodeKey:{type:[String,Number]},dropPosition:{type:Number},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},dt=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Ee.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Ee.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Ee.any,switcherIcon:Ee.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},Fa=globalThis&&globalThis.__rest||function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]]);return t},Bn="open",$n="close",Ia="---",gn=we({name:"TreeNode",inheritAttrs:!1,props:Pn,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,t){var a=t.attrs,r=t.slots,i=t.expose;He(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(O){return"`v-slot:"+O+"` "}),"instead"));var d=J(!1),o=it(),u=J(),s=B(function(){var O=e.eventKey,y=o.value.keyEntities,m=y[O]||{},R=m.children;return!!(R||[]).length}),v=B(function(){var O=e.isLeaf,y=e.loaded,m=o.value.loadData,R=s.value;return O===!1?!1:O||!m&&!R||m&&y&&!R}),f=B(function(){var O=e.expanded;return v.value?null:O?Bn:$n}),l=B(function(){var O=e.disabled,y=o.value.disabled;return!!(y||O)}),g=B(function(){var O=e.checkable,y=o.value.checkable;return!y||O===!1?!1:y}),b=B(function(){var O=e.selectable,y=o.value.selectable;return typeof O=="boolean"?O:y}),h=B(function(){return D(D(D({},Vt(e,["active","checkable","checked","disableCheckbox","disabled","expanded","isLeaf","loading","selectable","selected","halfChecked"])),e.data),{dataRef:e.data,data:e.data,isLeaf:v.value})}),c=Pt(),x=B(function(){var O=e.eventKey,y=o.value.keyEntities,m=y[O]||{},R=m.parent;return D(D({},mn(e)),{parent:R})}),K=Ze({eventData:x,eventKey:B(function(){return e.eventKey}),selectHandle:u,pos:B(function(){return e.pos}),key:c.vnode.key});i(K);var L=function(y){var m=o.value.onNodeDoubleClick;m(y,x.value)},M=function(y){if(!l.value){var m=o.value.onNodeSelect;y.preventDefault(),m(y,x.value)}},$=function(y){if(!l.value){var m=e.disableCheckbox,R=e.checked,ne=o.value.onNodeCheck;if(!(!g.value||m)){y.preventDefault();var de=!R;ne(y,x.value,de)}}},H=function(y){var m=o.value.onNodeClick;m(y,x.value),b.value?M(y):$(y)},W=function(y){var m=o.value.onNodeMouseEnter;m(y,x.value)},Y=function(y){var m=o.value.onNodeMouseLeave;m(y,x.value)},j=function(y){var m=o.value.onNodeContextMenu;m(y,x.value)},C=function(y){var m=o.value.onNodeDragStart;y.stopPropagation(),d.value=!0,m(y,K);try{y.dataTransfer.setData("text/plain","")}catch{}},_=function(y){var m=o.value.onNodeDragEnter;y.preventDefault(),y.stopPropagation(),m(y,K)},N=function(y){var m=o.value.onNodeDragOver;y.preventDefault(),y.stopPropagation(),m(y,K)},T=function(y){var m=o.value.onNodeDragLeave;y.stopPropagation(),m(y,K)},X=function(y){var m=o.value.onNodeDragEnd;y.stopPropagation(),d.value=!1,m(y,K)},G=function(y){var m=o.value.onNodeDrop;y.preventDefault(),y.stopPropagation(),d.value=!1,m(y,K)},ae=function(y){var m=o.value.onNodeExpand;e.loading||m(y,x.value)},re=function(){var y=e.data,m=o.value.draggable;return!!(m&&(!m.nodeDraggable||m.nodeDraggable(y)))},ye=function(){var y=o.value,m=y.draggable,R=y.prefixCls;return m!=null&&m.icon?P("span",{class:"".concat(R,"-draggable-icon")},[m.icon]):null},he=function(){var y,m,R,ne=e.switcherIcon,de=ne===void 0?r.switcherIcon||((y=o.value.slots)===null||y===void 0?void 0:y[(R=(m=e.data)===null||m===void 0?void 0:m.slots)===null||R===void 0?void 0:R.switcherIcon]):ne,le=o.value.switcherIcon,ce=de||le;return typeof ce=="function"?ce(h.value):ce},oe=function(){var y=e.expanded,m=e.loading,R=e.loaded,ne=o.value,de=ne.loadData,le=ne.onNodeLoad;m||de&&y&&!v.value&&!s.value&&!R&&le(x.value)};dn(function(){oe()}),Kn(function(){oe()});var _e=function(){var y=e.expanded,m=o.value.prefixCls,R=he();if(v.value)return R!==!1?P("span",{class:me("".concat(m,"-switcher"),"".concat(m,"-switcher-noop"))},[R]):null;var ne=me("".concat(m,"-switcher"),"".concat(m,"-switcher_").concat(y?Bn:$n));return R!==!1?P("span",{onClick:ae,class:ne},[R]):null},De=function(){var y,m,R=e.checked,ne=e.halfChecked,de=e.disableCheckbox,le=o.value.prefixCls,ce=l.value,ge=g.value;return ge?P("span",{class:me("".concat(le,"-checkbox"),R&&"".concat(le,"-checkbox-checked"),!R&&ne&&"".concat(le,"-checkbox-indeterminate"),(ce||de)&&"".concat(le,"-checkbox-disabled")),onClick:$},[(m=(y=o.value).customCheckable)===null||m===void 0?void 0:m.call(y)]):null},w=function(){var y=e.loading,m=o.value.prefixCls;return P("span",{class:me("".concat(m,"-iconEle"),"".concat(m,"-icon__").concat(f.value||"docu"),y&&"".concat(m,"-icon_loading"))},null)},I=function(){var y=e.disabled,m=e.eventKey,R=o.value,ne=R.draggable,de=R.dropLevelOffset,le=R.dropPosition,ce=R.prefixCls,ge=R.indent,Pe=R.dropIndicatorRender,Oe=R.dragOverNodeKey,ke=R.direction,pe=ne!==!1,Se=!y&&pe&&Oe===m;return Se?Pe({dropPosition:le,dropLevelOffset:de,indent:ge,prefixCls:ce,direction:ke}):null},ee=function(){var y,m,R,ne,de,le,ce=e.selected,ge=e.icon,Pe=ge===void 0?r.icon:ge,Oe=e.loading,ke=e.data,pe=r.title||((y=o.value.slots)===null||y===void 0?void 0:y[(R=(m=e.data)===null||m===void 0?void 0:m.slots)===null||R===void 0?void 0:R.title])||((ne=o.value.slots)===null||ne===void 0?void 0:ne.title)||e.title,Se=o.value,Te=Se.prefixCls,Ce=Se.showIcon,Fe=Se.icon,je=Se.loadData,Qe=l.value,Ke="".concat(Te,"-node-content-wrapper"),E;if(Ce){var k=Pe||((de=o.value.slots)===null||de===void 0?void 0:de[(le=ke==null?void 0:ke.slots)===null||le===void 0?void 0:le.icon])||Fe;E=k?P("span",{class:me("".concat(Te,"-iconEle"),"".concat(Te,"-icon__customize"))},[typeof k=="function"?k(h.value):k]):w()}else je&&Oe&&(E=w());var p;typeof pe=="function"?p=pe(h.value):p=pe,p=p===void 0?Ia:p;var S=P("span",{class:"".concat(Te,"-title")},[p]);return P("span",{ref:u,title:typeof pe=="string"?pe:"",class:me("".concat(Ke),"".concat(Ke,"-").concat(f.value||"normal"),!Qe&&(ce||d.value)&&"".concat(Te,"-node-selected")),onMouseenter:W,onMouseleave:Y,onContextmenu:j,onClick:H,onDblclick:L},[E,S,I()])};return function(){var O,y=D(D({},e),a),m=y.eventKey,R=y.dragOver,ne=y.dragOverGapTop,de=y.dragOverGapBottom,le=y.isLeaf,ce=y.isStart,ge=y.isEnd,Pe=y.expanded,Oe=y.selected,ke=y.checked,pe=y.halfChecked,Se=y.loading,Te=y.domRef,Ce=y.active;y.data;var Fe=y.onMousemove,je=y.selectable,Qe=Fa(y,["eventKey","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMousemove","selectable"]),Ke=o.value,E=Ke.prefixCls,k=Ke.filterTreeNode,p=Ke.keyEntities,S=Ke.dropContainerKey,z=Ke.dropTargetKey,V=Ke.draggingNodeKey,F=l.value,A=et(Qe,{aria:!0,data:!0}),Q=p[m]||{},q=Q.level,te=ge[ge.length-1],Z=re(),ie=!F&&Z,ve=V===m,xe=je!==void 0?{"aria-selected":!!je}:void 0;return P("div",ue(ue({ref:Te,class:me(a.class,"".concat(E,"-treenode"),(O={},U(O,"".concat(E,"-treenode-disabled"),F),U(O,"".concat(E,"-treenode-switcher-").concat(Pe?"open":"close"),!le),U(O,"".concat(E,"-treenode-checkbox-checked"),ke),U(O,"".concat(E,"-treenode-checkbox-indeterminate"),pe),U(O,"".concat(E,"-treenode-selected"),Oe),U(O,"".concat(E,"-treenode-loading"),Se),U(O,"".concat(E,"-treenode-active"),Ce),U(O,"".concat(E,"-treenode-leaf-last"),te),U(O,"".concat(E,"-treenode-draggable"),ie),U(O,"dragging",ve),U(O,"drop-target",z===m),U(O,"drop-container",S===m),U(O,"drag-over",!F&&R),U(O,"drag-over-gap-top",!F&&ne),U(O,"drag-over-gap-bottom",!F&&de),U(O,"filter-node",k&&k(x.value)),O)),style:a.style,draggable:ie,"aria-grabbed":ve,onDragstart:ie?C:void 0,onDragenter:Z?_:void 0,onDragover:Z?N:void 0,onDragleave:Z?T:void 0,onDrop:Z?G:void 0,onDragend:Z?X:void 0,onMousemove:Fe},xe),A),[P(La,{prefixCls:E,level:q,isStart:ce,isEnd:ge},null),ye(),_e(),De(),ee()])}}});globalThis&&globalThis.__rest;function Ie(n,e){if(!n)return[];var t=n.slice(),a=t.indexOf(e);return a>=0&&t.splice(a,1),t}function $e(n,e){var t=(n||[]).slice();return t.indexOf(e)===-1&&t.push(e),t}function Tn(n){return n.split("-")}function ut(n,e){return"".concat(n,"-").concat(e)}function Aa(n){return n&&n.type&&n.type.isTreeNode}function Ra(n,e){var t=[],a=e[n];function r(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(d){var o=d.key,u=d.children;t.push(o),r(u)})}return r(a.children),t}function Ha(n){if(n.parent){var e=Tn(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function ja(n){var e=Tn(n.pos);return Number(e[e.length-1])===0}function Vn(n,e,t,a,r,i,d,o,u,s){var v,f=n.clientX,l=n.clientY,g=n.target.getBoundingClientRect(),b=g.top,h=g.height,c=(s==="rtl"?-1:1)*(((r==null?void 0:r.x)||0)-f),x=(c-12)/a,K=o[t.eventKey];if(l<b+h/2){var L=d.findIndex(function(G){return G.key===K.key}),M=L<=0?0:L-1,$=d[M].key;K=o[$]}var H=K.key,W=K,Y=K.key,j=0,C=0;if(!u.includes(H))for(var _=0;_<x&&Ha(K);_+=1)K=K.parent,C+=1;var N=e.eventData,T=K.node,X=!0;return ja(K)&&K.level===0&&l<b+h/2&&i({dragNode:N,dropNode:T,dropPosition:-1})&&K.key===t.eventKey?j=-1:(W.children||[]).length&&u.includes(Y)?i({dragNode:N,dropNode:T,dropPosition:0})?j=0:X=!1:C===0?x>-1.5?i({dragNode:N,dropNode:T,dropPosition:1})?j=1:X=!1:i({dragNode:N,dropNode:T,dropPosition:0})?j=0:i({dragNode:N,dropNode:T,dropPosition:1})?j=1:X=!1:i({dragNode:N,dropNode:T,dropPosition:1})?j=1:X=!1,{dropPosition:j,dropLevelOffset:C,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:Y,dropContainerKey:j===0?null:((v=K.parent)===null||v===void 0?void 0:v.key)||null,dropAllowed:X}}function zn(n,e){if(!!n){var t=e.multiple;return t?n.slice():n.length?[n[0]]:n}}function sn(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(ze(n)==="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return He(!1,"`checkedKeys` is not an array or an object"),null;return e}function pn(n,e){var t=new Set;function a(r){if(!t.has(r)){var i=e[r];if(!!i){t.add(r);var d=i.parent,o=i.node;o.disabled||d&&a(d.key)}}}return(n||[]).forEach(function(r){a(r)}),Ne(t)}var Ba=globalThis&&globalThis.__rest||function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]]);return t};function Je(n,e){return n!=null?n:e}function cn(n){var e=n||{},t=e.title,a=e._title,r=e.key,i=e.children,d=t||"title";return{title:d,_title:a||[d],key:r||"key",children:i||"children"}}function bn(n){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=on(t);return a.map(function(r){var i,d,o,u;if(!Aa(r))return He(!r,"Tree/TreeNode can only accept TreeNode as children."),null;for(var s=r.children||{},v=r.key,f={},l=0,g=Object.entries(r.props);l<g.length;l++){var b=Ge(g[l],2),h=b[0],c=b[1];f[Tt(h)]=c}var x=f.isLeaf,K=f.checkable,L=f.selectable,M=f.disabled,$=f.disableCheckbox,H={isLeaf:x||x===""||void 0,checkable:K||K===""||void 0,selectable:L||L===""||void 0,disabled:M||M===""||void 0,disableCheckbox:$||$===""||void 0},W=D(D({},f),H),Y=f.title,j=Y===void 0?(i=s.title)===null||i===void 0?void 0:i.call(s,W):Y,C=f.icon,_=C===void 0?(d=s.icon)===null||d===void 0?void 0:d.call(s,W):C,N=f.switcherIcon,T=N===void 0?(o=s.switcherIcon)===null||o===void 0?void 0:o.call(s,W):N,X=Ba(f,["title","icon","switcherIcon"]),G=(u=s.default)===null||u===void 0?void 0:u.call(s),ae=D(D(D({},X),{title:j,icon:_,switcherIcon:T,key:v,isLeaf:x}),H),re=e(G);return re.length&&(ae.children=re),ae})}return e(n)}function $a(n,e,t){var a=cn(t),r=a._title,i=a.key,d=a.children,o=new Set(e===!0?[]:e),u=[];function s(v){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v.map(function(l,g){for(var b=ut(f?f.pos:"0",g),h=Je(l[i],b),c,x=0;x<r.length;x+=1){var K=r[x];if(l[K]!==void 0){c=l[K];break}}var L=D(D({},nt(l,[].concat(Ne(r),[i,d]))),{title:c,key:h,parent:f,pos:b,children:null,data:l,isStart:[].concat(Ne(f?f.isStart:[]),[g===0]),isEnd:[].concat(Ne(f?f.isEnd:[]),[g===v.length-1])});return u.push(L),e===!0||o.has(h)?L.children=s(l[d]||[],L):L.children=[],L})}return s(n),u}function Va(n,e,t){var a={};ze(t)==="object"?a=t:a={externalGetKey:t},a=a||{};var r=a,i=r.childrenPropName,d=r.externalGetKey,o=r.fieldNames,u=cn(o),s=u.key,v=u.children,f=i||v,l;d?typeof d=="string"?l=function(h){return h[d]}:typeof d=="function"&&(l=function(h){return d(h)}):l=function(h,c){return Je(h[s],c)};function g(b,h,c,x){var K=b?b[f]:n,L=b?ut(c.pos,h):"0",M=b?[].concat(Ne(x),[b]):[];if(b){var $=l(b,L),H={node:b,index:h,pos:L,key:$,parentPos:c.node?c.pos:null,level:c.level+1,nodes:M};e(H)}K&&K.forEach(function(W,Y){g(W,Y,{node:b,pos:L,level:c?c.level+1:-1},M)})}g(null)}function ct(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.initWrapper,a=e.processEntity,r=e.onProcessFinished,i=e.externalGetKey,d=e.childrenPropName,o=e.fieldNames,u=arguments.length>2?arguments[2]:void 0,s=i||u,v={},f={},l={posEntities:v,keyEntities:f};return t&&(l=t(l)||l),Va(n,function(g){var b=g.node,h=g.index,c=g.pos,x=g.key,K=g.parentPos,L=g.level,M=g.nodes,$={node:b,nodes:M,index:h,key:x,pos:c,level:L},H=Je(x,c);v[c]=$,f[H]=$,$.parent=v[K],$.parent&&($.parent.children=$.parent.children||[],$.parent.children.push($)),a&&a($,l)},{externalGetKey:s,childrenPropName:d,fieldNames:o}),r&&r(l),l}function ln(n,e){var t=e.expandedKeys,a=e.selectedKeys,r=e.loadedKeys,i=e.loadingKeys,d=e.checkedKeys,o=e.halfCheckedKeys,u=e.dragOverNodeKey,s=e.dropPosition,v=e.keyEntities,f=v[n],l={eventKey:n,expanded:t.indexOf(n)!==-1,selected:a.indexOf(n)!==-1,loaded:r.indexOf(n)!==-1,loading:i.indexOf(n)!==-1,checked:d.indexOf(n)!==-1,halfChecked:o.indexOf(n)!==-1,pos:String(f?f.pos:""),parent:f.parent,dragOver:u===n&&s===0,dragOverGapTop:u===n&&s===-1,dragOverGapBottom:u===n&&s===1};return l}function mn(n){var e=n.data,t=n.expanded,a=n.selected,r=n.checked,i=n.loaded,d=n.loading,o=n.halfChecked,u=n.dragOver,s=n.dragOverGapTop,v=n.dragOverGapBottom,f=n.pos,l=n.active,g=n.eventKey,b=D(D({dataRef:e},e),{expanded:t,selected:a,checked:r,loaded:i,loading:d,halfChecked:o,dragOver:u,dragOverGapTop:s,dragOverGapBottom:v,pos:f,active:l,eventKey:g,key:g});return"props"in b||Object.defineProperty(b,"props",{get:function(){return He(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),b}function st(n,e){var t=new Set;return n.forEach(function(a){e.has(a)||t.add(a)}),t}function za(n){var e=n||{},t=e.disabled,a=e.disableCheckbox,r=e.checkable;return!!(t||a)||r===!1}function Ga(n,e,t,a){for(var r=new Set(n),i=new Set,d=0;d<=t;d+=1){var o=e.get(d)||new Set;o.forEach(function(f){var l=f.key,g=f.node,b=f.children,h=b===void 0?[]:b;r.has(l)&&!a(g)&&h.filter(function(c){return!a(c.node)}).forEach(function(c){r.add(c.key)})})}for(var u=new Set,s=t;s>=0;s-=1){var v=e.get(s)||new Set;v.forEach(function(f){var l=f.parent,g=f.node;if(!(a(g)||!f.parent||u.has(f.parent.key))){if(a(f.parent.node)){u.add(l.key);return}var b=!0,h=!1;(l.children||[]).filter(function(c){return!a(c.node)}).forEach(function(c){var x=c.key,K=r.has(x);b&&!K&&(b=!1),!h&&(K||i.has(x))&&(h=!0)}),b&&r.add(l.key),h&&i.add(l.key),u.add(l.key)}})}return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(st(i,r))}}function qa(n,e,t,a,r){for(var i=new Set(n),d=new Set(e),o=0;o<=a;o+=1){var u=t.get(o)||new Set;u.forEach(function(l){var g=l.key,b=l.node,h=l.children,c=h===void 0?[]:h;!i.has(g)&&!d.has(g)&&!r(b)&&c.filter(function(x){return!r(x.node)}).forEach(function(x){i.delete(x.key)})})}d=new Set;for(var s=new Set,v=a;v>=0;v-=1){var f=t.get(v)||new Set;f.forEach(function(l){var g=l.parent,b=l.node;if(!(r(b)||!l.parent||s.has(l.parent.key))){if(r(l.parent.node)){s.add(g.key);return}var h=!0,c=!1;(g.children||[]).filter(function(x){return!r(x.node)}).forEach(function(x){var K=x.key,L=i.has(K);h&&!L&&(h=!1),!c&&(L||d.has(K))&&(c=!0)}),h||i.delete(g.key),c&&d.add(g.key),s.add(g.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(st(d,i))}}function vn(n,e,t,a,r,i){var d=[],o;i?o=i:o=za;var u=new Set(n.filter(function(v){var f=!!t[v];return f||d.push(v),f}));Mt(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map(function(v){return"'".concat(v,"'")}).join(", ")));var s;return e===!0?s=Ga(u,r,a,o):s=qa(u,e.halfCheckedKeys,r,a,o),s}function Ua(n){var e=J(0),t=be();return Re(function(){var a=new Map,r=0,i=n.value||{};for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var o=i[d],u=o.level,s=a.get(u);s||(s=new Set,a.set(u,s)),s.add(o),r=Math.max(r,u)}e.value=r,t.value=a}),{maxLevel:e,levelEntities:t}}var Gn=globalThis&&globalThis.__rest||function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]]);return t},Wa=we({name:"MotionTreeNode",inheritAttrs:!1,props:D(D({},Pn),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String,treeNodeRequiredProps:{type:Object}}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,t){var a=t.attrs,r=t.slots,i=J(!0),d=it(),o=J(!1),u=B(function(){return e.motion?e.motion:$t()}),s=function(f,l){var g,b,h,c;l==="appear"?(b=(g=u.value)===null||g===void 0?void 0:g.onAfterEnter)===null||b===void 0||b.call(g,f):l==="leave"&&((c=(h=u.value)===null||h===void 0?void 0:h.onAfterLeave)===null||c===void 0||c.call(h,f)),o.value||e.onMotionEnd(),o.value=!0};return fe(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&i.value&&Ye(function(){i.value=!1})},{immediate:!0,flush:"post"}),dn(function(){e.motionNodes&&e.onMotionStart()}),xn(function(){e.motionNodes&&s()}),function(){e.motion;var v=e.motionNodes,f=e.motionType,l=e.active,g=e.treeNodeRequiredProps,b=Gn(e,["motion","motionNodes","motionType","active","treeNodeRequiredProps"]);return v?P(Ft,ue(ue({},u.value),{},{appear:f==="show",onAfterAppear:function(c){return s(c,"appear")},onAfterLeave:function(c){return s(c,"leave")}}),{default:function(){return[Lt(P("div",{class:"".concat(d.value.prefixCls,"-treenode-motion")},[v.map(function(c){var x=Gn(c.data,[]),K=c.title,L=c.key,M=c.isStart,$=c.isEnd;delete x.children;var H=ln(L,g);return P(gn,ue(ue(ue({},x),H),{},{title:K,active:l,data:c.data,key:L,isStart:M,isEnd:$}),r)})]),[[_t,i.value]])]}}):P(gn,ue(ue({domRef:J,class:a.class,style:a.style},b),{},{active:l}),r)}}});function Ya(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=n.length,a=e.length;if(Math.abs(t-a)!==1)return{add:!1,key:null};function r(i,d){var o=new Map;i.forEach(function(s){o.set(s,!0)});var u=d.filter(function(s){return!o.has(s)});return u.length===1?u[0]:null}return t<a?{add:!0,key:r(n,e)}:{add:!1,key:r(e,n)}}function qn(n,e,t){var a=n.findIndex(function(o){return o.key===t}),r=n[a+1],i=e.findIndex(function(o){return o.key===t});if(r){var d=e.findIndex(function(o){return o.key===r.key});return e.slice(i+1,d)}return e.slice(i+1)}var Un=globalThis&&globalThis.__rest||function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]]);return t},Wn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Xa=function(){},qe="RC_TREE_MOTION_".concat(Math.random()),kn={key:qe},vt={key:qe,level:0,index:0,pos:"0",node:kn,nodes:[kn]},Yn={parent:null,children:[],pos:vt.pos,data:kn,title:null,key:qe,isStart:[],isEnd:[]};function Xn(n,e,t,a){return e===!1||!t?n:n.slice(0,Math.ceil(t/a)+1)}function Qn(n){var e=n.key,t=n.pos;return Je(e,t)}function Qa(n){for(var e=String(n.key),t=n;t.parent;)t=t.parent,e="".concat(t.key," > ").concat(e);return e}var Za=we({name:"NodeList",inheritAttrs:!1,props:_a,setup:function(e,t){var a=t.expose,r=t.attrs,i=J(),d=J();a({scrollTo:function(g){i.value.scrollTo(g)},getIndentWidth:function(){return d.value.offsetWidth}});var o=be(e.data),u=be([]),s=J(null);function v(){o.value=e.data,u.value=[],s.value=null,e.onListChangeEnd()}fe([function(){return Ne(e.expandedKeys)},function(){return e.data}],function(l,g){var b=Ge(l,2),h=b[0],c=b[1],x=Ge(g,2),K=x[0],L=x[1],M=Ya(K,h);if(M.key!==null){var $=e.virtual,H=e.height,W=e.itemHeight;if(M.add){var Y=L.findIndex(function(X){var G=X.key;return G===M.key}),j=Xn(qn(L,c,M.key),$,H,W),C=L.slice();C.splice(Y+1,0,Yn),o.value=C,u.value=j,s.value="show"}else{var _=c.findIndex(function(X){var G=X.key;return G===M.key}),N=Xn(qn(c,L,M.key),$,H,W),T=c.slice();T.splice(_+1,0,Yn),o.value=T,u.value=N,s.value="hide"}}else L!==c&&(o.value=c)}),fe(function(){return e.dragging},function(l){l||v()});var f=B(function(){return e.motion===void 0?o.value:e.data});return function(){var l=D(D({},e),r),g=l.prefixCls;l.data,l.selectable,l.checkable;var b=l.expandedKeys,h=l.selectedKeys,c=l.checkedKeys,x=l.loadedKeys,K=l.loadingKeys,L=l.halfCheckedKeys,M=l.keyEntities,$=l.disabled;l.dragging;var H=l.dragOverNodeKey,W=l.dropPosition,Y=l.motion,j=l.height,C=l.itemHeight,_=l.virtual,N=l.focusable,T=l.activeItem,X=l.focused,G=l.tabindex,ae=l.onKeydown,re=l.onFocus,ye=l.onBlur,he=l.onActiveChange,oe=l.onListChangeStart;l.onListChangeEnd;var _e=Un(l,["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"]),De={expandedKeys:b,selectedKeys:h,loadedKeys:x,loadingKeys:K,checkedKeys:c,halfCheckedKeys:L,dragOverNodeKey:H,dropPosition:W,keyEntities:M};return P(It,null,[X&&T&&P("span",{style:Wn,"aria-live":"assertive"},[Qa(T)]),P("div",null,[P("input",{style:Wn,disabled:N===!1||$,tabindex:N!==!1?G:null,onKeydown:ae,onFocus:re,onBlur:ye,value:"",onChange:Xa,"aria-label":"for screen reader"},null)]),P("div",{class:"".concat(g,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[P("div",{class:"".concat(g,"-indent")},[P("div",{ref:d,class:"".concat(g,"-indent-unit")},null)])]),P(ia,ue(ue({},_e),{},{data:f.value,itemKey:Qn,height:j,fullHeight:!1,virtual:_,itemHeight:C,prefixCls:"".concat(g,"-list"),ref:i,onVisibleChange:function(I,ee){var O=new Set(I),y=ee.filter(function(m){return!O.has(m)});y.some(function(m){return Qn(m)===qe})&&v()}}),{default:function(I){var ee=I.pos,O=Un(I.data,[]),y=I.title,m=I.key,R=I.isStart,ne=I.isEnd,de=Je(m,ee);delete O.key,delete O.children;var le=ln(de,De);return P(Wa,ue(ue(ue({},O),le),{},{title:y,active:!!T&&m===T.key,pos:ee,data:I.data,isStart:R,isEnd:ne,motion:Y,motionNodes:m===qe?u.value:null,motionType:s.value,onMotionStart:oe,onMotionEnd:v,treeNodeRequiredProps:De,onMousemove:function(){he(null)}}),null)}})])}}});function Ja(n){var e=n.dropPosition,t=n.dropLevelOffset,a=n.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:r.top=0,r.left="".concat(-t*a,"px");break;case 1:r.bottom=0,r.left="".concat(-t*a,"px");break;case 0:r.bottom=0,r.left="".concat(a);break}return P("div",{style:r},null)}var er=10,nr=we({name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:On(dt(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Ja,allowDrop:function(){return!0}}),setup:function(e,t){var a=t.attrs,r=t.slots,i=t.expose,d=J(!1),o={},u=J(),s=be([]),v=be([]),f=be([]),l=be([]),g=be([]),b=be([]),h={},c=Ze({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),x=be([]);fe([function(){return e.treeData},function(){return e.children}],function(){x.value=e.treeData!==void 0?an(e.treeData):bn(an(e.children))},{immediate:!0,deep:!0});var K=be({}),L=J(!1),M=J(null),$=J(!1),H=B(function(){return cn(e.fieldNames)}),W=J(),Y=null,j=null,C=null,_=B(function(){return{expandedKeys:b.value||[],selectedKeys:s.value||[],loadedKeys:l.value||[],loadingKeys:g.value||[],checkedKeys:v.value||[],halfCheckedKeys:f.value||[],dragOverNodeKey:c.dragOverNodeKey,dropPosition:c.dropPosition,keyEntities:K.value}});Re(function(){if(x.value){var E=ct(x.value,{fieldNames:H.value});K.value=D(U({},qe,vt),E.keyEntities)}});var N=!1;fe([function(){return e.expandedKeys},function(){return e.autoExpandParent},K],function(E,k){var p=Ge(E,2);p[0];var S=p[1],z=Ge(k,2);z[0];var V=z[1],F=b.value;if(e.expandedKeys!==void 0||N&&S!==V)F=e.autoExpandParent||!N&&e.defaultExpandParent?pn(e.expandedKeys,K.value):e.expandedKeys;else if(!N&&e.defaultExpandAll){var A=D({},K.value);delete A[qe],F=Object.keys(A).map(function(Q){return A[Q].key})}else!N&&e.defaultExpandedKeys&&(F=e.autoExpandParent||e.defaultExpandParent?pn(e.defaultExpandedKeys,K.value):e.defaultExpandedKeys);F&&(b.value=F),N=!0},{immediate:!0});var T=be([]);Re(function(){T.value=$a(x.value,b.value,H.value)}),Re(function(){e.selectable&&(e.selectedKeys!==void 0?s.value=zn(e.selectedKeys,e):!N&&e.defaultSelectedKeys&&(s.value=zn(e.defaultSelectedKeys,e)))});var X=Ua(K),G=X.maxLevel,ae=X.levelEntities;Re(function(){if(e.checkable){var E;if(e.checkedKeys!==void 0?E=sn(e.checkedKeys)||{}:!N&&e.defaultCheckedKeys?E=sn(e.defaultCheckedKeys)||{}:x.value&&(E=sn(e.checkedKeys)||{checkedKeys:v.value,halfCheckedKeys:f.value}),E){var k=E,p=k.checkedKeys,S=p===void 0?[]:p,z=k.halfCheckedKeys,V=z===void 0?[]:z;if(!e.checkStrictly){var F=vn(S,!0,K.value,G.value,ae.value);S=F.checkedKeys,V=F.halfCheckedKeys}v.value=S,f.value=V}}}),Re(function(){e.loadedKeys&&(l.value=e.loadedKeys)});var re=function(){D(c,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ye=function(k){W.value.scrollTo(k)};fe(function(){return e.activeKey},function(){e.activeKey!==void 0&&(M.value=e.activeKey)},{immediate:!0}),fe(M,function(E){Ye(function(){E!==null&&ye({key:E})})},{immediate:!0,flush:"post"});var he=function(k){e.expandedKeys===void 0&&(b.value=k)},oe=function(){c.draggingNodeKey!==null&&D(c,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),Y=null,C=null},_e=function(k,p){var S=e.onDragend;c.dragOverNodeKey=null,oe(),S==null||S({event:k,node:p.eventData}),j=null},De=function E(k){_e(k,null),window.removeEventListener("dragend",E)},w=function(k,p){var S=e.onDragstart,z=p.eventKey,V=p.eventData;j=p,Y={x:k.clientX,y:k.clientY};var F=Ie(b.value,z);c.draggingNodeKey=z,c.dragChildrenKeys=Ra(z,K.value),u.value=W.value.getIndentWidth(),he(F),window.addEventListener("dragend",De),S&&S({event:k,node:V})},I=function(k,p){var S=e.onDragenter,z=e.onExpand,V=e.allowDrop,F=e.direction,A=p.pos,Q=p.eventKey;if(C!==Q&&(C=Q),!j){re();return}var q=Vn(k,j,p,u.value,Y,V,T.value,K.value,b.value,F),te=q.dropPosition,Z=q.dropLevelOffset,ie=q.dropTargetKey,ve=q.dropContainerKey,xe=q.dropTargetPos,Be=q.dropAllowed,Ue=q.dragOverNodeKey;if(c.dragChildrenKeys.indexOf(ie)!==-1||!Be){re();return}if(o||(o={}),Object.keys(o).forEach(function(se){clearTimeout(o[se])}),j.eventKey!==p.eventKey&&(o[A]=window.setTimeout(function(){if(c.draggingNodeKey!==null){var se=b.value.slice(),Me=K.value[p.eventKey];Me&&(Me.children||[]).length&&(se=$e(b.value,p.eventKey)),he(se),z&&z(se,{node:p.eventData,expanded:!0,nativeEvent:k})}},800)),j.eventKey===ie&&Z===0){re();return}D(c,{dragOverNodeKey:Ue,dropPosition:te,dropLevelOffset:Z,dropTargetKey:ie,dropContainerKey:ve,dropTargetPos:xe,dropAllowed:Be}),S&&S({event:k,node:p.eventData,expandedKeys:b.value})},ee=function(k,p){var S=e.onDragover,z=e.allowDrop,V=e.direction;if(!!j){var F=Vn(k,j,p,u.value,Y,z,T.value,K.value,b.value,V),A=F.dropPosition,Q=F.dropLevelOffset,q=F.dropTargetKey,te=F.dropContainerKey,Z=F.dropAllowed,ie=F.dropTargetPos,ve=F.dragOverNodeKey;c.dragChildrenKeys.indexOf(q)!==-1||!Z||(j.eventKey===q&&Q===0?c.dropPosition===null&&c.dropLevelOffset===null&&c.dropTargetKey===null&&c.dropContainerKey===null&&c.dropTargetPos===null&&c.dropAllowed===!1&&c.dragOverNodeKey===null||re():A===c.dropPosition&&Q===c.dropLevelOffset&&q===c.dropTargetKey&&te===c.dropContainerKey&&ie===c.dropTargetPos&&Z===c.dropAllowed&&ve===c.dragOverNodeKey||D(c,{dropPosition:A,dropLevelOffset:Q,dropTargetKey:q,dropContainerKey:te,dropTargetPos:ie,dropAllowed:Z,dragOverNodeKey:ve}),S&&S({event:k,node:p.eventData}))}},O=function(k,p){C===p.eventKey&&!k.currentTarget.contains(k.relatedTarget)&&(re(),C=null);var S=e.onDragleave;S&&S({event:k,node:p.eventData})},y=function(k,p){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,z,V=c.dragChildrenKeys,F=c.dropPosition,A=c.dropTargetKey,Q=c.dropTargetPos,q=c.dropAllowed;if(!!q){var te=e.onDrop;if(c.dragOverNodeKey=null,oe(),A!==null){var Z=D(D({},ln(A,an(_.value))),{active:((z=Fe.value)===null||z===void 0?void 0:z.key)===A,data:K.value[A].node}),ie=V.indexOf(A)!==-1;He(!ie,"Can not drop to dragNode's children node. Maybe this is a bug of ant-design-vue. Please report an issue.");var ve=Tn(Q),xe={event:k,node:mn(Z),dragNode:j?j.eventData:null,dragNodesKeys:[j.eventKey].concat(V),dropToGap:F!==0,dropPosition:F+Number(ve[ve.length-1])};S||te==null||te(xe),j=null}}},m=function(k,p){var S=e.onClick;S&&S(k,p)},R=function(k,p){var S=e.onDblclick;S&&S(k,p)},ne=function(k,p){var S=s.value,z=e.onSelect,V=e.multiple,F=p.selected,A=p[H.value.key],Q=!F;Q?V?S=$e(S,A):S=[A]:S=Ie(S,A);var q=K.value,te=S.map(function(Z){var ie=q[Z];return ie?ie.node:null}).filter(function(Z){return Z});e.selectedKeys===void 0&&(s.value=S),z&&z(S,{event:"select",selected:Q,node:p,selectedNodes:te,nativeEvent:k})},de=function(k,p,S){var z=e.checkStrictly,V=e.onCheck,F=p[H.value.key],A,Q={event:"check",node:p,checked:S,nativeEvent:k},q=K.value;if(z){var te=S?$e(v.value,F):Ie(v.value,F),Z=Ie(f.value,F);A={checked:te,halfChecked:Z},Q.checkedNodes=te.map(function(se){return q[se]}).filter(function(se){return se}).map(function(se){return se.node}),e.checkedKeys===void 0&&(v.value=te)}else{var ie=vn([].concat(Ne(v.value),[F]),!0,q,G.value,ae.value),ve=ie.checkedKeys,xe=ie.halfCheckedKeys;if(!S){var Be=new Set(ve);Be.delete(F);var Ue=vn(Array.from(Be),{checked:!1,halfCheckedKeys:xe},q,G.value,ae.value);ve=Ue.checkedKeys,xe=Ue.halfCheckedKeys}A=ve,Q.checkedNodes=[],Q.checkedNodesPositions=[],Q.halfCheckedKeys=xe,ve.forEach(function(se){var Me=q[se];if(!!Me){var en=Me.node,nn=Me.pos;Q.checkedNodes.push(en),Q.checkedNodesPositions.push({node:en,pos:nn})}}),e.checkedKeys===void 0&&(v.value=ve,f.value=xe)}V&&V(A,Q)},le=function(k){var p=k[H.value.key],S=new Promise(function(z,V){var F=e.loadData,A=e.onLoad;if(!F||l.value.indexOf(p)!==-1||g.value.indexOf(p)!==-1)return null;var Q=F(k);Q.then(function(){var q=$e(l.value,p),te=Ie(g.value,p);A&&A(q,{event:"load",node:k}),e.loadedKeys===void 0&&(l.value=q),g.value=te,z()}).catch(function(q){var te=Ie(g.value,p);if(g.value=te,h[p]=(h[p]||0)+1,h[p]>=er){He(!1,"Retry for `loadData` many times but still failed. No more retry.");var Z=$e(l.value,p);e.loadedKeys===void 0&&(l.value=Z),z()}V(q)}),g.value=$e(g.value,p)});return S.catch(function(){}),S},ce=function(k,p){var S=e.onMouseenter;S&&S({event:k,node:p})},ge=function(k,p){var S=e.onMouseleave;S&&S({event:k,node:p})},Pe=function(k,p){var S=e.onRightClick;S&&(k.preventDefault(),S({event:k,node:p}))},Oe=function(k){var p=e.onFocus;L.value=!0,p&&p(k)},ke=function(k){var p=e.onBlur;L.value=!1,Ce(null),p&&p(k)},pe=function(k,p){var S=b.value,z=e.onExpand,V=e.loadData,F=p.expanded,A=p[H.value.key];if(!$.value){var Q=S.indexOf(A),q=!F;if(He(F&&Q!==-1||!F&&Q===-1,"Expand state not sync with index check"),q?S=$e(S,A):S=Ie(S,A),he(S),z&&z(S,{node:p,expanded:q,nativeEvent:k}),q&&V){var te=le(p);te&&te.then(function(){}).catch(function(Z){var ie=Ie(b.value,A);he(ie),Promise.reject(Z)})}}},Se=function(){$.value=!0},Te=function(){setTimeout(function(){$.value=!1})},Ce=function(k){var p=e.onActiveChange;M.value!==k&&(e.activeKey!==void 0&&(M.value=k),k!==null&&ye({key:k}),p&&p(k))},Fe=B(function(){return M.value===null?null:T.value.find(function(E){var k=E.key;return k===M.value})||null}),je=function(k){var p=T.value.findIndex(function(V){var F=V.key;return F===M.value});p===-1&&k<0&&(p=T.value.length),p=(p+k+T.value.length)%T.value.length;var S=T.value[p];if(S){var z=S.key;Ce(z)}else Ce(null)},Qe=B(function(){return mn(D(D({},ln(M.value,_.value)),{data:Fe.value.data,active:!0}))}),Ke=function(k){var p=e.onKeydown,S=e.checkable,z=e.selectable;switch(k.which){case We.UP:{je(-1),k.preventDefault();break}case We.DOWN:{je(1),k.preventDefault();break}}var V=Fe.value;if(V&&V.data){var F=V.data.isLeaf===!1||!!(V.data.children||[]).length,A=Qe.value;switch(k.which){case We.LEFT:{F&&b.value.includes(M.value)?pe({},A):V.parent&&Ce(V.parent.key),k.preventDefault();break}case We.RIGHT:{F&&!b.value.includes(M.value)?pe({},A):V.children&&V.children.length&&Ce(V.children[0].key),k.preventDefault();break}case We.ENTER:case We.SPACE:{S&&!A.disabled&&A.checkable!==!1&&!A.disableCheckbox?de({},A,!v.value.includes(M.value)):!S&&z&&!A.disabled&&A.selectable!==!1&&ne({},A);break}}}p&&p(k)};return i({onNodeExpand:pe,scrollTo:ye,onKeydown:Ke,selectedKeys:B(function(){return s.value}),checkedKeys:B(function(){return v.value}),halfCheckedKeys:B(function(){return f.value}),loadedKeys:B(function(){return l.value}),loadingKeys:B(function(){return g.value}),expandedKeys:B(function(){return b.value})}),At(function(){window.removeEventListener("dragend",De),d.value=!0}),function(){var E,k=c.draggingNodeKey,p=c.dropLevelOffset,S=c.dropContainerKey,z=c.dropTargetKey,V=c.dropPosition,F=c.dragOverNodeKey,A=e.prefixCls,Q=e.showLine,q=e.focusable,te=e.tabindex,Z=te===void 0?0:te,ie=e.selectable,ve=e.showIcon,xe=e.icon,Be=xe===void 0?r.icon:xe,Ue=e.switcherIcon,se=e.draggable,Me=e.checkable,en=e.checkStrictly,nn=e.disabled,ht=e.motion,yt=e.loadData,gt=e.filterTreeNode,pt=e.height,bt=e.itemHeight,mt=e.virtual,kt=e.dropIndicatorRender,xt=e.onContextmenu,Kt=e.onScroll,Ot=e.direction,St=a.class,Ct=a.style,Et=et(D(D({},e),a),{aria:!0,data:!0}),tn;return se&&(ze(se)==="object"?tn=se:typeof se=="function"?tn={nodeDraggable:se}:tn={}),P(Ta,{value:{prefixCls:A,selectable:ie,showIcon:ve,icon:Be,switcherIcon:Ue,draggable:tn,draggingNodeKey:k,checkable:Me,customCheckable:r.checkable,checkStrictly:en,disabled:nn,keyEntities:K.value,dropLevelOffset:p,dropContainerKey:S,dropTargetKey:z,dropPosition:V,dragOverNodeKey:F,indent:u.value,direction:Ot,dropIndicatorRender:kt,loadData:yt,filterTreeNode:gt,onNodeClick:m,onNodeDoubleClick:R,onNodeExpand:pe,onNodeSelect:ne,onNodeCheck:de,onNodeLoad:le,onNodeMouseEnter:ce,onNodeMouseLeave:ge,onNodeContextMenu:Pe,onNodeDragStart:w,onNodeDragEnter:I,onNodeDragOver:ee,onNodeDragLeave:O,onNodeDragEnd:_e,onNodeDrop:y,slots:r}},{default:function(){return[P("div",{role:"tree",class:me(A,St,(E={},U(E,"".concat(A,"-show-line"),Q),U(E,"".concat(A,"-focused"),L.value),U(E,"".concat(A,"-active-focused"),M.value!==null),E))},[P(Za,ue(ue({ref:W,prefixCls:A,style:Ct,data:T.value,disabled:nn,selectable:ie,checkable:!!Me,motion:ht,dragging:k!==null,height:pt,itemHeight:bt,virtual:mt,focusable:q,focused:L.value,tabindex:Z,activeItem:Fe.value,onFocus:Oe,onBlur:ke,onKeydown:Ke,onActiveChange:Ce,onListChangeStart:Se,onListChangeEnd:Te,onContextmenu:xt,onScroll:Kt},_.value),Et),null)])]}})}}});function tr(n,e,t,a){var r=a.isLeaf,i=a.expanded,d=a.loading,o=e;if(d)return P(Rt,{class:"".concat(n,"-switcher-loading-icon")},null);var u;t&&ze(t)==="object"&&(u=t.showLeafIcon);var s=null,v="".concat(n,"-switcher-icon");return r?(t&&(ze(t)==="object"&&!u?s=P("span",{class:"".concat(n,"-switcher-leaf-line")},null):s=P(ot,{class:"".concat(n,"-switcher-line-icon")},null)),s):(s=P(sa,{class:v},null),t&&(s=i?P(Ea,{class:"".concat(n,"-switcher-line-icon")},null):P(Pa,{class:"".concat(n,"-switcher-line-icon")},null)),typeof e=="function"?o=e(D(D({},a),{defaultIcon:s,switcherCls:v})):Ht(o)&&(o=Jn(o,{class:v})),o||s)}var Zn=4;function ar(n){var e,t=n.dropPosition,a=n.dropLevelOffset,r=n.prefixCls,i=n.indent,d=n.direction,o=d===void 0?"ltr":d,u=o==="ltr"?"left":"right",s=o==="ltr"?"right":"left",v=(e={},U(e,u,"".concat(-a*i+Zn,"px")),U(e,s,0),e);switch(t){case-1:v.top="".concat(-3,"px");break;case 1:v.bottom="".concat(-3,"px");break;default:v.bottom="".concat(-3,"px"),v[u]="".concat(i+Zn,"px");break}return P("div",{style:v,class:"".concat(r,"-drop-indicator")},null)}var ft=function(){var e=dt();return D(D({},e),{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:Ee.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:Ee.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})},rn=we({name:"ATree",inheritAttrs:!1,props:On(ft(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,t){var a=t.attrs,r=t.expose,i=t.emit,d=t.slots;He(!(e.treeData===void 0&&d.default),"`children` of Tree is deprecated. Please use `treeData` instead.");var o=tt("tree",e),u=o.prefixCls,s=o.direction,v=o.virtual,f=J();r({treeRef:f,onNodeExpand:function(){var c,x;(x=f.value)===null||x===void 0||(c=x).onNodeExpand.apply(c,arguments)},selectedKeys:B(function(){var h;return(h=f.value)===null||h===void 0?void 0:h.selectedKeys}),checkedKeys:B(function(){var h;return(h=f.value)===null||h===void 0?void 0:h.checkedKeys}),halfCheckedKeys:B(function(){var h;return(h=f.value)===null||h===void 0?void 0:h.halfCheckedKeys}),loadedKeys:B(function(){var h;return(h=f.value)===null||h===void 0?void 0:h.loadedKeys}),loadingKeys:B(function(){var h;return(h=f.value)===null||h===void 0?void 0:h.loadingKeys}),expandedKeys:B(function(){var h;return(h=f.value)===null||h===void 0?void 0:h.expandedKeys})}),Re(function(){jt(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});var l=function(c,x){i("update:checkedKeys",c),i("check",c,x)},g=function(c,x){i("update:expandedKeys",c),i("expand",c,x)},b=function(c,x){i("update:selectedKeys",c),i("select",c,x)};return function(){var h,c,x=e.showIcon,K=e.showLine,L=e.switcherIcon,M=L===void 0?d.switcherIcon:L,$=e.icon,H=$===void 0?d.icon:$,W=e.blockNode,Y=e.checkable,j=e.selectable,C=e.fieldNames,_=C===void 0?e.replaceFields:C,N=e.motion,T=N===void 0?e.openAnimation:N,X=e.itemHeight,G=X===void 0?28:X,ae=e.onDoubleclick,re=e.onDblclick,ye=D(D(D({},a),nt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:Boolean(K),dropIndicatorRender:ar,fieldNames:_,icon:H,itemHeight:G});return P(nr,ue(ue({},ye),{},{virtual:v.value,motion:T,ref:f,prefixCls:u.value,class:me((h={},U(h,"".concat(u.value,"-icon-hide"),!x),U(h,"".concat(u.value,"-block-node"),W),U(h,"".concat(u.value,"-unselectable"),!j),U(h,"".concat(u.value,"-rtl"),s.value==="rtl"),h),a.class),direction:s.value,checkable:Y,selectable:j,switcherIcon:function(oe){return tr(u.value,M,K,oe)},onCheck:l,onExpand:g,onSelect:b,onDblclick:re||ae,children:on((c=d.default)===null||c===void 0?void 0:c.call(d))}),D(D({},d),{checkable:function(){return P("span",{class:"".concat(u.value,"-checkbox-inner")},null)}}))}}}),Le;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(Le||(Le={}));function Mn(n,e,t){function a(r){var i=r[e.key],d=r[e.children];t(i,r)!==!1&&Mn(d||[],e,t)}n.forEach(a)}function rr(n){var e=n.treeData,t=n.expandedKeys,a=n.startKey,r=n.endKey,i=n.fieldNames,d=i===void 0?{title:"title",key:"key",children:"children"}:i,o=[],u=Le.None;if(a&&a===r)return[a];if(!a||!r)return[];function s(v){return v===a||v===r}return Mn(e,d,function(v){if(u===Le.End)return!1;if(s(v)){if(o.push(v),u===Le.None)u=Le.Start;else if(u===Le.Start)return u=Le.End,!1}else u===Le.Start&&o.push(v);return t.indexOf(v)!==-1}),o}function fn(n,e,t){var a=Ne(e),r=[];return Mn(n,t,function(i,d){var o=a.indexOf(i);return o!==-1&&(r.push(d),a.splice(o,1)),!!a.length}),r}var or=globalThis&&globalThis.__rest||function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(n);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(n,a[r])&&(t[a[r]]=n[a[r]]);return t},lr=function(){return D(D({},ft()),{expandAction:{type:[Boolean,String]}})};function ir(n){var e=n.isLeaf,t=n.expanded;return e?P(ot,null,null):t?P(ba,null,null):P(Ka,null,null)}var hn=we({name:"ADirectoryTree",inheritAttrs:!1,props:On(lr(),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,t){var a=t.attrs,r=t.slots,i=t.emit,d=t.expose,o,u=J(e.treeData||bn(on((o=r.default)===null||o===void 0?void 0:o.call(r))));fe(function(){return e.treeData},function(){u.value=e.treeData}),Kn(function(){Ye(function(){var C;e.treeData===void 0&&r.default&&(u.value=bn(on((C=r.default)===null||C===void 0?void 0:C.call(r))))})});var s=J(),v=J(),f=J();d({selectedKeys:B(function(){var C;return(C=f.value)===null||C===void 0?void 0:C.selectedKeys}),checkedKeys:B(function(){var C;return(C=f.value)===null||C===void 0?void 0:C.checkedKeys}),halfCheckedKeys:B(function(){var C;return(C=f.value)===null||C===void 0?void 0:C.halfCheckedKeys}),loadedKeys:B(function(){var C;return(C=f.value)===null||C===void 0?void 0:C.loadedKeys}),loadingKeys:B(function(){var C;return(C=f.value)===null||C===void 0?void 0:C.loadingKeys}),expandedKeys:B(function(){var C;return(C=f.value)===null||C===void 0?void 0:C.expandedKeys})});var l=function(){var _=ct(u.value),N=_.keyEntities,T;return e.defaultExpandAll?T=Object.keys(N):e.defaultExpandParent?T=pn(e.expandedKeys||e.defaultExpandedKeys||[],N):T=e.expandedKeys||e.defaultExpandedKeys,T},g=J(e.selectedKeys||e.defaultSelectedKeys||[]),b=J(l());fe(function(){return e.selectedKeys},function(){e.selectedKeys!==void 0&&(g.value=e.selectedKeys)},{immediate:!0}),fe(function(){return e.expandedKeys},function(){e.expandedKeys!==void 0&&(b.value=e.expandedKeys)},{immediate:!0});var h=function(_,N){var T=N.isLeaf;T||_.shiftKey||_.metaKey||_.ctrlKey||f.value.onNodeExpand(_,N)},c=zt(h,200,{leading:!0}),x=function(_,N){e.expandedKeys===void 0&&(b.value=_),i("update:expandedKeys",_),i("expand",_,N)},K=function(_,N){var T=e.expandAction;T==="click"&&c(_,N),i("click",_,N)},L=function(_,N){var T=e.expandAction;(T==="dblclick"||T==="doubleclick")&&c(_,N),i("doubleclick",_,N),i("dblclick",_,N)},M=B(function(){return cn(e.fieldNames)}),$=function(_,N){var T=e.multiple,X=N.node,G=N.nativeEvent,ae=X[M.value.key],re=D(D({},N),{selected:!0}),ye=(G==null?void 0:G.ctrlKey)||(G==null?void 0:G.metaKey),he=G==null?void 0:G.shiftKey,oe;T&&ye?(oe=_,s.value=ae,v.value=oe,re.selectedNodes=fn(u.value,oe,M.value)):T&&he?(oe=Array.from(new Set([].concat(Ne(v.value||[]),Ne(rr({treeData:u.value,expandedKeys:b.value,startKey:ae,endKey:s.value,fieldNames:M.value}))))),re.selectedNodes=fn(u.value,oe,M.value)):(oe=_,s.value=ae,v.value=oe,re.selectedNodes=fn(u.value,oe,M.value)),i("update:selectedKeys",oe),i("select",oe,re),e.selectedKeys===void 0&&(g.value=oe)},H=function(_,N){i("update:checkedKeys",_),i("check",_,N)},W=tt("tree",e),Y=W.prefixCls,j=W.direction;return function(){var C=me("".concat(Y.value,"-directory"),U({},"".concat(Y.value,"-directory-rtl"),j.value==="rtl"),a.class),_=e.icon,N=_===void 0?r.icon:_,T=e.blockNode,X=T===void 0?!0:T,G=or(e,["icon","blockNode"]);return P(rn,ue(ue(ue({},a),{},{icon:N||ir,ref:f,blockNode:X},G),{},{prefixCls:Y.value,class:C,expandedKeys:b.value,selectedKeys:g.value,onSelect:$,onClick:K,onDblclick:L,onExpand:x,onCheck:H}),r)}}}),yn=we(D(D({},gn),{name:"ATreeNode",props:Pn})),fr=D(rn,{DirectoryTree:hn,TreeNode:yn,install:function(e){return e.component(rn.name,rn),e.component(yn.name,yn),e.component(hn.name,hn),e}});export{ia as L,fr as _,ct as a,vn as b,Ln as c,Ie as d,$e as e,Ua as u};
